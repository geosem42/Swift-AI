import{q as L,r as y,o as i,i as n,f as t,F as f,l as b,b as v,n as u,j as d,d as k,w as g,T,m,x as M,t as p,z as S,s as A,p as C,e as R,A as B,v as P,k as _}from"./app-9e33c640.js";import{A as U,J as $}from"./AppLayout-2b6f5ed3.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import{T as x}from"./bootstrap.esm-f3a99523.js";import{S as G}from"./simplebar.min-50915f1f.js";import{f as E,k as q,n as V,l as D,h as F}from"./apiService-34b53e87.js";const N={props:{links:Array},components:{Link:L}},H={key:0},j={class:"d-flex justify-content-center pagination"},z=["innerHTML"];function J(e,s,r,h,l,c){const a=y("Link");return r.links.length>1?(i(),n("div",H,[t("div",j,[(i(!0),n(f,null,b(r.links,(o,I)=>(i(),n(f,{key:I},[o.url===null?(i(),n("div",{key:0,innerHTML:o.label,class:""},null,8,z)):(i(),v(a,{key:1,href:o.url,innerHTML:o.label,class:u({active:o.active})},null,8,["href","innerHTML","class"]))],64))),128))])])):d("",!0)}const Y=w(N,[["render",J]]),O=k({props:{},components:{AppLayout:U,JetApplicationLogo:$,Pagination:Y},data(){return{resolution:[{id:1,width:896,height:512},{id:2,width:512,height:512},{id:3,width:512,height:896}],currentRes:2,form:T({prompt:"",style:"3d-model",width:"",height:"",upscaleImage:!1}),generatedImageUrl:null,imagesList:[],isLoading:!1,hasMoreImages:!0,isInitialRender:!0,isPushed:!1,nextPageUrl:null,isLoadingMore:!1,showScrollToTop:!0,simpleBarInstance:null,showImageGenerator:!1,errors:{}}},computed:{currentResolution(){return this.resolution.find(e=>e.id==this.currentRes)},noMoreImages(){return this.imagesList.length>0&&!this.nextPageUrl}},async mounted(){new x(document.body,{selector:"[data-bs-toggle='tooltip']"});const e=document.querySelector(".content");e&&(this.simpleBarInstance=new G(e),this.simpleBarInstance.getScrollElement().addEventListener("scroll",this.toggleScrollToTopButton)),this.loadMore()},methods:{async createImage(){try{this.isLoading=!0;const e=await E(),s=this.form.prompt,r=this.form.style,h=this.form.width,l=this.form.height,c=this.form.upscaleImage,a=await q(e,s,r,h,l,c);this.imagesList.unshift({prompt:a.prompt,original:a.original,upscaled:a.upscaled}),this.isLoading=!1,this.errors={}}catch(e){e.source==="frontend"?this.errors=e.errors:this.errors=V(e||{message:["An unexpected error occurred."]})}finally{this.isLoading=!1}},changeRes(e){this.currentRes=parseInt(e.target.value,10)},toggleImageGenerator(){this.showImageGenerator=!this.showImageGenerator},applyAnimation(){const e=document.querySelector(".image-container");e&&(e.style.opacity=0,e.style.transform="translateY(-100%)",setTimeout(()=>{e.style.transition="all 0.4s ease",e.style.opacity=1,e.style.transform="translateY(0)"},100))},async loadMore(){if(this.hasMoreImages!==!1){this.isLoading=!0,this.isLoadingMore=!0;try{const e=this.imagesList.length===0?"/get-images":this.nextPageUrl;if(e){const s=await D(e);Array.isArray(s)?(this.imagesList=[...this.imagesList||[],...s],this.hasMoreImages=!1):s&&s.data?(this.imagesList=[...this.imagesList||[],...s.data],s.data.length>0?(this.nextPageUrl=s.next_page_url,this.hasMoreImages=!!this.nextPageUrl):this.hasMoreImages=!1):console.error("Unexpected response structure:",s)}else console.error("No URL available for fetching more images.")}catch(e){F(e)}finally{this.isLoading=!1,this.isLoadingMore=!1}}},scrollToTop(){const e=document.querySelector(".content");if(e){const s=e.querySelector(".simplebar-content-wrapper");s?this.animateScroll(s):console.log("Scroll content not found")}else console.log("Content container not found")},animateScroll(e){let s=e.scrollTop,r=0-s,h=500,l;function c(a){l||(l=a);let o=Math.min((a-l)/h,1);e.scrollTop=s+o*r,o<1&&window.requestAnimationFrame(c)}window.requestAnimationFrame(c)},toggleScrollToTopButton(){if(this.simpleBarInstance){const e=this.simpleBarInstance.getScrollElement().scrollTop,s=document.querySelector(".scroll-to-top");s&&(e>500?s.style.display="flex":s.style.display="none")}},clearError(e){this.errors[e]&&(this.errors[e]="")}},watch:{currentResolution:{immediate:!0,handler(e){this.form.width=e.width,this.form.height=e.height}},imagesList(e,s){if(this.isInitialRender){this.isInitialRender=!1;return}e.length>s.length&&this.applyAnimation()}}}),W=t("h2",{class:"h4 font-weight-bold"}," AI Images ",-1),K={class:"toggle-conversations bg-primary"},Q=t("i",{class:"bi bi-list"},null,-1),X=[Q],Z={class:"images-wrapper position-relative"},ee={class:"container mt-5"},te={class:"row mb-3"},se={class:"col-md-12"},oe={key:0,class:"invalid-feedback"},ie={class:"row"},ne={class:"col-xs-12 col-sm-12 col-md-12 mt-3"},ae=t("label",{for:"artstyle",class:"form-label text-white fs-xs"},"Art Style",-1),re=t("option",{value:"3d-model"},"3D Model",-1),le=t("option",{value:"analog-film"},"Analog Film",-1),de=t("option",{value:"anime"},"Anime",-1),ce=t("option",{value:"cinematic"},"Cinematic",-1),he=t("option",{value:"comic-book"},"Comic Book",-1),me=t("option",{value:"digital-art"},"Digital Art",-1),pe=t("option",{value:"enhance"},"Enhance",-1),ue=t("option",{value:"fantasy-art"},"Fantasy Art",-1),ge=t("option",{value:"isometric"},"Isometric",-1),fe=t("option",{value:"line-art"},"Line Art",-1),_e=t("option",{value:"low-poly"},"Low Poly",-1),ye=t("option",{value:"modeling-compound"},"Modeling Compound",-1),be=t("option",{value:"neon-punk"},"Neon Punk",-1),ve=t("option",{value:"origami"},"Origami",-1),we=t("option",{value:"photographic"},"Photographic",-1),Ie=t("option",{value:"pixel-art"},"Pixel Art",-1),Le=t("option",{value:"tile-texture"},"Tile Texture",-1),ke=[re,le,de,ce,he,me,pe,ue,ge,fe,_e,ye,be,ve,we,Ie,Le],Te={class:"col-xs-12 col-sm-12 col-md-12 mt-5"},Me=t("label",{for:"resolutionRange",class:"form-label text-white fs-xs"},"Resolution",-1),Se={class:"badge bg-primary float-end"},Ae=["max","value"],Ce={class:"col-xs-12 col-sm-12 col-md-12 mt-5"},Re={class:"form-check form-switch"},Be=t("label",{class:"form-check-label text-white",for:"upscale"}," Upscale Image? ",-1),Pe={class:"d-grid mt-4"},Ue={key:1,class:"btn btn-shade btn-lg",type:"button",disabled:""},$e=t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),xe=t("span",{class:"visually-hidden"},"Loading...",-1),Ge=[$e,xe],Ee=t("span",{class:"disclaimer text-center"},[_(" Please refer to Stability AI's "),t("a",{href:"https://openai.com/policies/terms-of-use",class:"link-secondary",target:"_blank"},"terms of use"),_(". ")],-1),qe={class:"content"},Ve={class:"wrapper-img"},De={class:"image-prompt text-white fw-bold fs-6 mb-2"},Fe=["src"],Ne={class:"middle d-flex flex-row justify-content-center"},He=["href"],je=t("i",{class:"bi bi-cloud-download"},null,-1),ze=[je],Je=["href"],Ye=t("i",{class:"bi bi-arrows-angle-expand"},null,-1),Oe=[Ye],We=["disabled"],Ke={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Qe={key:1,class:"visually-hidden"},Xe={key:2},Ze=t("i",{class:"bi bi-arrow-up"},null,-1),et=[Ze];function tt(e,s,r,h,l,c){const a=y("app-layout");return i(),v(a,{title:"Dashboard"},{header:g(()=>[W]),default:g(()=>[t("div",K,[t("button",{class:"menu-btn text-warning",onClick:s[0]||(s[0]=(...o)=>e.toggleImageGenerator&&e.toggleImageGenerator(...o)),ref:"menuBtn2"},X,512)]),t("div",Z,[t("div",{class:u(["sidebar sidebar-2",{"show-generator":e.showImageGenerator}])},[t("div",ee,[t("div",te,[t("div",se,[m(t("textarea",{name:"prompt",id:"prompt",cols:"5",rows:"3","onUpdate:modelValue":s[1]||(s[1]=o=>e.form.prompt=o),placeholder:"What would you like to see?",class:u(["form-control form-control-lg bg-primary text-white border-light",{"is-invalid":e.errors.prompt}]),onInput:s[2]||(s[2]=o=>e.clearError("prompt"))},`\r
              `,34),[[M,e.form.prompt]]),e.errors.prompt?(i(),n("div",oe,p(e.errors.prompt[0]),1)):d("",!0)])]),t("div",ie,[t("div",ne,[ae,m(t("select",{name:"artstyle",class:"form-select form-select-lg bg-primary border-0 text-white","aria-label":"Select style preset",id:"artstyle","onUpdate:modelValue":s[3]||(s[3]=o=>e.form.style=o)},ke,512),[[S,e.form.style]])]),t("div",Te,[Me,t("span",Se,p(e.currentResolution.width)+" x "+p(e.currentResolution.height),1),t("input",{name:"resolution",id:"resolutionRange",type:"range",class:"form-range",min:1,max:e.resolution.length,value:e.currentRes,onInput:s[4]||(s[4]=o=>e.changeRes(o))},null,40,Ae)]),t("div",Ce,[t("div",Re,[m(t("input",{class:"form-check-input",type:"checkbox",name:"upscale",id:"upscale","onUpdate:modelValue":s[5]||(s[5]=o=>e.form.upscaleImage=o)},null,512),[[A,e.form.upscaleImage]]),Be])])]),t("div",Pe,[e.isLoading?d("",!0):(i(),n("button",{key:0,class:"btn btn-shade btn-lg text-secondary",onClick:s[6]||(s[6]=C((...o)=>e.createImage&&e.createImage(...o),["prevent"]))},"Generate Image")),e.isLoading?(i(),n("button",Ue,Ge)):d("",!0),Ee])])],2),t("div",qe,[t("div",{class:u(["container",{"slide-down":e.isPushed}])},[R(B,{name:"slide-down",tag:"div"},{default:g(()=>[(i(!0),n(f,null,b(e.imagesList,o=>(i(),n("div",{class:"image-container",key:o.original},[t("div",Ve,[t("p",De,p(o.prompt),1),t("img",{src:"storage/"+o.original,class:"img-thumbnail image child",alt:"Generated Image"},null,8,Fe),t("div",Ne,[t("a",{href:"storage/"+o.original,class:"btn btn-secondary me-1","data-bs-toggle":"tooltip","data-bs-title":"Download",download:""},ze,8,He),o.upscaled?(i(),n("a",{key:0,href:"storage/"+o.upscaled,class:"btn btn-secondary","data-bs-toggle":"tooltip","data-bs-title":"Upscale",download:""},Oe,8,Je)):d("",!0)])])]))),128))]),_:1}),e.hasMoreImages&&!e.isLoadingMore?(i(),n("button",{key:0,onClick:s[7]||(s[7]=(...o)=>e.loadMore&&e.loadMore(...o)),disabled:e.isLoadingMore,class:"btn btn-lg btn-secondary mt-3 mb-3"},[e.isLoadingMore?(i(),n("span",Ke)):d("",!0),e.isLoadingMore?(i(),n("span",Qe,"Loading...")):(i(),n("span",Xe,"Load More"))],8,We)):d("",!0),m(t("button",{onClick:s[8]||(s[8]=(...o)=>e.scrollToTop&&e.scrollToTop(...o)),class:"scroll-to-top"},et,512),[[P,e.showScrollToTop]])],2)])])]),_:1})}const lt=w(O,[["render",tt]]);export{lt as default};
